---
output:
  xaringan::moon_reader:
    css: ["css/default.css","css/metropolis.css", "css/metropolis-fonts.css"]
    nature:
      highlightStyle: "github"
      countIncrementalSlides: false
      ratio: "16:9"  # Format 16:9 pour plein Ã©cran
      
---

background-color: #ffffff
class: center, middle


<!-- Ligne avec logos et noms -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">

  <!-- Bloc ENSAE -->
  <div style="text-align: center;">
    <div style="font-size: 15px; margin-top: 10px;">
      <strong>Ecole Nationale de la Statistique<br>et de l'Analyse Economique</strong>
    </div><br>
    <img src="../Documents/ENSAE-Dakar-logo.png" style="height: 80px;" />
  </div>
  
   <!-- Bloc SENEGAL -->
  <div style="text-align: center;">
    <div style="font-size: 20px; margin-top: 0px;">
      <strong>RÃ©publique du SÃ©nÃ©gal</strong>
    </div><br>
    <img src="../Documents/Logo-SEN.png" style="height: 80px;" />
  </div>

  <!-- Bloc ANSD -->
  <div style="text-align: center;">
    <div style="font-size: 15px; margin-top: 10px;">
      <strong>Agence Nationale de la Statistique<br>et de la DÃ©mographie</strong>
    </div><br>
    <img src="../Documents/Logo-ANSD.png" style="height: 100px;" />
  </div>
</div>

<!-- Bloc Nom du cours -->
<div style="margin-top: 90px; justify-content: space-between;">
  <h1 style="color: #007BFF; text-align: center; font-weight: bold; font-size: 35px;">Projet statistique sous R</h1>
</div>

<!-- Bloc Theme -->
<div style="margin-top: 20px; margin-bottom: 20px;">
  <h2 style="color: #007BFF; font-weight: bold; text-align: center; font-size: 40px;">ThÃ¨me : DÃ©veloppement d'un package (cas de sdmApp)</h2>
</div>

<!-- Bloc membres du groupe et nom du professeur -->
<div style="display: flex; justify-content: space-between; margin-top: 50px; font-size: 18px;">
  <div style="text-align: left;">
    <strong>Membres du groupe</strong><br>
    Cheikh Oumar DIALLO<br>
    G. JudicaÃ«l Oscar KAFANDO
  </div>
  <div style="text-align: right;">
    <strong>Professeur</strong><br>
    M. HEMA Aboubacar
  </div>
</div>

<!-- Bloc Date -->
<div style="position: absolute; bottom: 30px; width: 100%; text-align: center; font-size: 16px;">
  `r format(Sys.Date(), "%d %B %Y")`
</div>

<!--Parametres gÃ©nÃ©raux-->

```{r setup, include=FALSE}

# Ce code permet d'appliquer ces paramÃ¨tres a tous les chuncks

knitr::opts_chunk$set(cache=TRUE, 
                      echo = FALSE, # N'affiche pas les codes
                      message=FALSE, # Supprime les messages gÃ©nÃ©rÃ©s par les packages lors de leur chargement.
                      warning=FALSE) # Masque les avertissements gÃ©nÃ©rÃ©s pendant l'exÃ©cution du code.
                      
         

```


<!--Installation des package-->

```{r }

packages <- c("dplyr","kableExtra","pkgsearch","gtsummary","devtools","cranlogs","tidyr","ggplot2","lubridate")

for (package in packages) {
  if(!requireNamespace(package)){ #verifie si le package n'existe pas dÃ©ja
    install.packages(package) # installer en cas de non existence
  }
  
  library(package,character.only = TRUE) #chargement des packages
}

```

---
<!--Plan de prÃ©sentation-->

# **ğŸ“ Plan de la PrÃ©sentation**

ğŸ§­ **1. Introduction** 

<br>

ğŸ“š **2. DÃ©finition des concepts clÃ©s**

<br>

ğŸ“¦ **3. PrÃ©sentation du package sdmApp**

<br>

ğŸ› ï¸ **4. Cas pratique**

<br>

âš ï¸ **5. Limites et suggestions**


<!--Introduction-->

---
background-color: #3EB489
class: inverse, center, middle, large

# <span style="color:#FFFFFF">ğŸ“˜ Introduction</span>

---
# **ğŸ“˜ Introduction**

## **ğŸ“Œ Contexte et justification**

- ğŸ§­**Contexte** 

  Stage au sein du ***centre international de recherche agronomique (CIRAD)***

  - **ğŸ“ thÃ¨me**:  *modÃ©lisation de la distribution des espÃ¨ces ligneuses dans le bassin arachidier sÃ©nÃ©galais *
  
  - âœ…**Taux de rÃ©ussite** : *98%*
  
<br>

--

- ğŸ’¡**Justification** : 

  - *Sujet d'actualitÃ©*
  
  - *FacilitÃ© la modÃ©lisation*

---

# **ğŸ“˜ Introduction**

## **ğŸ‘¥ Auteurs** 

  Plusieurs personnes ont intervenues dans la mise en oeuvre du package **sdmApp**. Il s'agit de :
  
  - M. Aboubacar HEMA : ***auteur et crÃ©ateur***
  
  - M. Babacar NDAO : ***auteur***,
  
  - Mme. Louise LEROUX : ***auteur***, 
  
  - M. Abdoul Aziz DIOUF : ***auteur***


---
# <span style="color:#FFFFFF">ğŸ“˜ Introduction</span>

## **ğŸ•°ï¸ Historique**

<!--Historique du package-->

**sdmApp, de sa crÃ©ation Ã  nos jour.**

```{r echo=FALSE,message=FALSE,warning=FALSE}

# CrÃ©er le tableau
sdmApp_hist <- cran_package_history("sdmApp") %>% 
  mutate(nb_dependencies = sapply(dependencies, function(dep) {
    if (is.null(dep)) return(0)
    else return(nrow(dep))
  })) %>% 
  select(Package, Version, `Date/Publication` = `Date/Publication`, 
         `Enregistrement sur CRAN` = crandb_file_date, 
         `Mise Ã  jour` = date, 
         `DÃ©pendances` = nb_dependencies)

```

<!--Affichage de la table-->

```{r echo=FALSE}

# Afficher la table formatÃ©e
sdmApp_hist %>%
  kable("html") %>%
  kable_styling(full_width = FALSE, position = "center")


```

--

Le package a Ã©tÃ© retirÃ© du CRAN (archivÃ©) le **10-02-2024**.Les raisons derriere cet acte sont entre autre :

- **DÃ©pendances obsolÃ¨tes** : dependais de  rgdal et rgeos, dÃ©sormais archivÃ©es et non maintenues sur le CRAN. 

- **Importations non utilisÃ©es** : Le fichier de description (DESCRIPTION) indique l'importation du package sp, mais celui-ci nâ€™est pas utilisÃ© dans le code.

--

- **Manque de robustesse multiplateforme :** Plusieurs distributions Linux (Debian, Fedora) ont gÃ©nÃ©rÃ© des notes lors des vÃ©rifications automatiques, montrant un manque de compatibilitÃ© avec ces environnements.

**source : https://cran-archive.r-project.org/web/checks/2024/2024-02-10_check_results_sdmApp.html**



---

class: inverse, center, middle, large

# <span style="color:#FFFFFF">ğŸ§  DÃ©finition des concepts clÃ©s</span>

---
# **ğŸ§  DÃ©finition des concepts clÃ©s**

## <span style="color:#228B22;">**ğŸ“¦ 1. Package**</span>

Un *package*  est un ensemble cohÃ©rent de fichiers, programmes, bibliothÃ¨ques, et mÃ©tadonnÃ©es qui permettent dâ€™installer et dâ€™utiliser une fonctionnalitÃ© spÃ©cifique dans un environnement logiciel donnÃ©.

--
<br>

## <span style="color:#228B22;">**ğŸŒ 2. ModÃ©lisation de la distribution des espÃ¨ces**</span>

La *modÃ©lisation de la distribution des espÃ¨ces* consiste Ã  prÃ©dire les zones gÃ©ographiques oÃ¹ une espÃ¨ce est prÃ©sente ou absente, en fonction de variables environnementales (climat, sol, altitude, etc.).

--
<br>

## <span style="color:#228B22;">**ğŸ—º 3. Vecteurs**</span>

Un *vecteur* est un type de donnÃ©e spatiale utilisÃ© pour reprÃ©senter des entitÃ©s gÃ©ographiques prÃ©cises Ã  lâ€™aide de points, lignes, ou polygones.


---

# **ğŸ§  DÃ©finition des concepts clÃ©s**

## <span style="color:#228B22">**ğŸ—ºï¸ 4. Raster**</span>

Un *raster* est une image composÃ©e dâ€™une grille de pixels, chacun reprÃ©sentant une valeur spatiale (comme la tempÃ©rature, lâ€™altitude ou lâ€™humiditÃ©) Ã  un endroit prÃ©cis

--

<div style="text-align: center;">
  <img src="../Documents/raster.png" width="700px" alt="Raster" />
</div>


---

class: inverse, center, middle, large

# <span style="color:#FFFFFF">**ğŸ§ª PrÃ©sentation du package sdmApp**</span>

---
# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">**ğŸ” Description**</span>


<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  <strong>sdmApp (Species Distribution Models Application)</strong>
  
  <br><br>
  
  C'est un package R qui permet aux utilisateurs de R <em><strong>(experts et non experts)</strong></em> de modÃ©liser facilement la distribution des espÃ¨ces.
  
  </div>
  
  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/sdmApp.png" alt="LOGO sdmApp" style="max-height: 350px;" />
  </div>

</div>


---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>


<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  <strong>sdmApp est constituÃ© de :</strong>
  <ul>
  <li>Dossier</li>
      
  <li>Sous dossier</li>
      
  <li>Fichier</li>
  </ul>
  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/sdmApp_str.png" alt="LOGO sdmApp" style="max-height: 500px;" />
  </div>

</div>

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>

### <span style="color:#228B22">**1. Dossier R**</span>

<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  Câ€™est le dossier principal contenant les fichiers de scripts R.
  
  <br><br>
  
  Ces fichiers contiennent le code de crÃ©ation des diffÃ©rentes fonctions.

  
  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/D_R.png" alt="LOGO sdmApp" style="max-height: 500px;" />
  </div>

</div>

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>

### <span style="color:#228B22">**2. Dossier inst**</span>

<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  Il sâ€™agit du dossier "installation" standard dans les packages R. 
  
  <br>
  
  Il contient les ressources qui doivent Ãªtre installÃ©es avec le package (documentation, images, donnÃ©es d'exemple)
  
  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/D_INST.png" style="max-height: 500px;" />
    <img src="../Documents/D_inst_R_2.png" style="max-height: 500px;" />
  </div>

</div>

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>

### <span style="color:#228B22">**3. Dossier man**</span>

<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  Ce dossier contient les fichiers de documentation des diffÃ©rentes fonctions du package, gÃ©nÃ©rÃ©es automatiquement par roxygen2
  
  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/D_man.png" style="max-height: 500px;" />
  </div>

</div>

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>

### <span style="color:#228B22">**4. Dossier test**</span>

<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
  
  Ce dossier contient les tests unitaires et fonctionnels pour vÃ©rifier le bon fonctionnement du package.

  <br>
  
  Pour toutes les fonctions, seul la <strong>multiplication</strong> a Ã©tÃ© tester.
  
  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/D_test.png" style="max-height: 500px;" />
  </div>

</div>

---


# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ“ **Structure du package**</span>

### <span style="color:#228B22">**5. Dossier vignette**</span>

<div style="display: flex; justify-content: space-between; height: 100%;">

  <!-- Bloc de gauche -->
  <div style="width: 48%; justify-content: center; align-items: center; text-align: justify; padding: 20px; font-size: 20px;">
  
  <br><br>
    
  Ce dossier contient les documents explicatifs dÃ©taillÃ©s sur les fonctionnalitÃ©s et l'utilisation du package

  </div>

  <!-- Barre verticale de sÃ©paration -->
  <div style="width: 4%; border-left: 2px solid #ccc; height: 80%;"></div>

  <!-- Bloc de droite : Image -->
  <div style="width: 48%; text-align: center;">
    <img src="../Documents/D_Vignette.png" style="max-height: 500px;" />
  </div>

</div>

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ§° **FonctionnalitÃ©s du package**</span>

Le package **sdmApp** est composÃ© de cinq fonctions.

<br>

--

### <span style="color:#228B22">**1. sdmApp()**</span>

Elle est la fonction principale du package. Elle permet de lancer l'application et d'y faire le **chargement, la visualisation, la modÃ©lisation des donnÃ©es et l'exportation des rÃ©sultats.**


--

### <span style="color:#228B22">**2. sdmApp_PA()**</span>

Elle affiche une carte Ã  partir dâ€™un **objet raster binaire** reprÃ©sentant ***la prÃ©sence (1) en vert ou lâ€™absence (0) en rouge*** dâ€™une espÃ¨ce sur une zone gÃ©ographique.

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">ğŸ§° **FonctionnalitÃ©s du package**</span>

### <span style="color:#228B22">**3. sdmApp_TimesRasters()**</span>


Elle sert Ã  masquer les **absences** dans une carte de **probabilitÃ© dâ€™occurrence** , en multipliant cette carte par une carte binaire de prÃ©sence/absence. 

--

### <span style="color:#228B22">**4. sdmApp_fold_Explorer()**</span>

Elle permet de visualiser les **folds (blocs de validation croisÃ©e spatiale)** gÃ©nÃ©rÃ©s avec ***blockCV***, en les superposant Ã  une carte raster et aux points dâ€™occurrence dâ€™espÃ¨ce.


--

### <span style="color:#228B22">**5. sdmApp_RasterPlot()**</span>

Elle permet de crÃ©er une jolie carte raster en utilisant ggplot2, ce qui permet une meilleure personnalisation et une intÃ©gration Ã©lÃ©gante dans des Shiny apps.

---
# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">**ğŸ“Š Comparaison avec d'autres packages**</span>


La modÃ©lisation de la distribution des espÃ¨ces est un point qui a nÃ©cessitÃ© la crÃ©ation de plusieurs packages afin de rendre la tache plus simple. sdmApp s'est alignÃ© sur cette dynamique. Dans cette partie, nous comparons les diffÃ©rents packages Ã  sdmApp, en terme de nombre d'utilisation par les internautes de R.

<!--RÃ©cupÃ©ration des donnÃ©es-->

```{r }


Base_nbre_telechargement <- cranlogs::cran_downloads(package = c("sdmApp","sdm","dismo","biomod2","maxnet","SDMtune"), #liste des packages Ã  comparer
                            from = "2020-01-01", to = Sys.Date()) # choix de la pÃ©riode Ã  considÃ©rÃ©e


# Ajouter une colonne "annÃ©e" Ã  la base afin de faciliter les filtres
Base_nbre_telechargement <- Base_nbre_telechargement %>%
  dplyr::mutate(AnnÃ©e = lubridate::year(date))


```

<!--AgrÃ©ger les donnÃ©es par package et annÃ©e-->

```{r}

Base_nbre_telechargement_an <- Base_nbre_telechargement %>%
  dplyr::group_by(package, AnnÃ©e) %>%
  dplyr::summarise(Nbre_telechargement = sum(count), .groups = "drop")

```

<!--Tableau rÃ©capitulatif-->

```{r}

# RÃ©organiser : annÃ©es en lignes, packages en colonnes
Base_telechargement <- Base_nbre_telechargement_an %>%
  tidyr::pivot_wider(names_from = package, values_from = Nbre_telechargement)

# Afficher joliment le tableau
Base_telechargement %>%
  kable("html", caption = "Nombre de tÃ©lÃ©chargements par annÃ©e et par package") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), 
                full_width = FALSE, position = "center")

```

---

# **ğŸ§ª PrÃ©sentation du package sdmApp**

## <span style="color:#228B22">**ğŸ“Š Comparaison avec d'autres packages**</span>

<br>

<!--Courbe de visualisation-->

```{r fig.width=10, fig.height=5, fig.align='center'}

# Tracer le graphique
ggplot(Base_nbre_telechargement_an, aes(x = AnnÃ©e, y = Nbre_telechargement, color = package)) +
  geom_line(size = 1.2) +
  geom_point(size = 2) +
  labs(title = "Ã‰volution des tÃ©lÃ©chargements des packages SDM (2020-2025)",
       x = "AnnÃ©e", y = "Nombre de tÃ©lÃ©chargements") +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 18, hjust = 0.5),
    legend.title = element_blank()
  )

```

---

class: inverse, center, middle, large

# [<span style="color:#FFFFFF">ğŸ–¥ï¸ Cas Pratique : Interface Graphique</span>](http://127.0.0.1:5547)


---

class: inverse, center, middle, large

# <span style="color:#FFFFFF">âš ï¸ Limites et Suggestions</span>

---
# **âš ï¸ Limites et Suggestions**

## âŒ **Limites du package**

<br>

- **ğŸ”§ DÃ©pendance vis-Ã -vis d'autres packages ** : le rends vulnÃ©rable

- **ğŸ”§ DÃ©pendance Ã  Java :** Java (â‰¥ 8) est requis, ce qui complique lâ€™installation, notamment sur Windows.

--

- âš™ï¸**Personnalisation faible : **Lâ€™interface est simple, mais peu flexible : lâ€™utilisateur avancÃ© ne peut pas facilement modifier les paramÃ¨tres internes des modÃ¨les via l'interface.


---

# <span style="color:#FFFFFF">âš ï¸ Limites et Suggestions</span>

## ğŸ’¡ **Suggestions d'amÃ©lioration**

<br>

- **âœ”ï¸ Supprimer la dÃ©pendance Java** : Passer Ã  des bibliothÃ¨ques purement R pour les fonctions critiques.

--

- **ğŸ› ï¸ Plus de personnalisation** : Ajout dâ€™un onglet â€œparamÃ¨tres avancÃ©sâ€ pour permettre Ã  lâ€™utilisateur dâ€™Ã©diter le code R gÃ©nÃ©rÃ© en direct.

--

- **ğŸ“¦ Version cloud ou dÃ©ployable** : DÃ©ployer une version web en ligne (via Shinyapps.io ou Docker) pour Ã©viter les soucis d'installation locale.

--

- âœ…**Ajout d'une fonctionnalitÃ© ** : ajouter une fonctionnalitÃ© permettant de determiner pour une espÃ¨ce donnÃ©e, la durÃ©e de vies dans l'environnement dans le cas oÃ¹ il peut exister.



---

class: inverse, center, middle, large

# ğŸ™ Merci pour votre aimable attention  

